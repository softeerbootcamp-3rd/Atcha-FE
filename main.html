<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="fontStyle.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="modal/modal.css">
    <title>Atcha</title>
</head>
<body>
    <!-- splash 효과 부분 -->
    <div class="splash-container" id="splash-container">
        <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" 
        type="module"></script><dotlottie-player 
        src="https://lottie.host/94ca8a97-efbf-45ad-9218-452c60ebdd6e/SwmCMZB6ON.json" 
        background="transparent"
        speed="1" 
        style="width: 300px; height: 300px" 
        direction="1" 
        mode="normal" 
        autoplay>
        </dotlottie-player>
    </div>
    <!-- main content -->
    <div class="main-content" id="main-content">
        <!------- website content ------->
        <header>
            <!-- 목록 페이지로 가는 [목록], [주차 종료] 텍스트 -->
            <div class="topContent">
                <a href="#" id="goToList">목록</a>
                <a href="#" id="parkingEnd">주차 종료</a>
            </div>
            <!-- 현재 건물 위치 -->
            <div class="locationContent">
                <div id="searchArea" style="margin-bottom: 10px;">
                    <img src="icon-pin-location-mono.svg" alt="icon-pin">
                    <a href="#" id="building-location">위치를 설정해주세요.</a>
                </div>
            </div>
            <!-- 사용자의 주차 시간과 요금 출력 -->
            <div class="infoContent">
                <div class="timeContent">
                    <img src="icon-clock-mono.svg" alt="icon-clock">
                    <span id="time">0시간 0분</span>
                </div>
                <span id="fee">0원</span>
            </div>
        </header>
        <!-- 카메라 기능 부분 -->
        <div id="cameraArea" style="position: relative; 
                    width: 100%; 
                    max-width: 400px; 
                    height: 300px; 
                    background-color: #272727; 
                    overflow: hidden; 
                    border-radius: 8px; 
                    display: flex; 
                    align-items: center; 
                    justify-content: center; 
                    flex-direction: column; 
                    text-align: center;">

            <!-- 이미지를 배경 이미지로 설정한 div -->
            <div style="width: 12%; 
                        height: 15%; 
                        background-image: url('camera.svg'); 
                        background-size: cover; 
                        position: relative; 
                        margin-bottom: 20px;"></div>

            <!-- 사진을 추가하면 주차 기록이 시작됩니다. 문구 -->
            <div style="color: white; 
                        font-size: 15px; 
                        color: #8E8E93">사진을 추가하면 주차 기록이 시작됩니다.</div>

            <!-- 카메라 입력 필드 -->
            <input type="file"
                    accept="image/*" 
                    capture="camera" 
                    id="camera" 
                    style="position: absolute; 
                    width: 100%; 
                    height: 100%; 
                    opacity: 0; 
                    cursor: pointer;">
        </div>

        <!-- 사진 로드 부분 -->
        <div><img id="frame"></div>
        <!-- 메모 기능 부분 -->
        <div id="memoArea">
            <textarea id="memo" cols="20" rows="5" maxlength="100" class="memo-container" placeholder="메모를 작성해주세요."></textarea>
            <div id="memoCounter">
                <span id="memoCount" style="color: #D3D9DF;">0</span>
                <span style="color: #8E8E93;" id="counter">/100</span>
            </div>
        </div>

        <!-- 모달 부분 -->
        <div id="myModal" class="modal">
            <div class="modal-content">
              <div>
                <p style="margin-bottom: 30px;" id="location-content">위치를 불러오는 중입니다...</p>
              </div>
              <div id="modalBtn" style="display: none;">
                <button id="btn1">아니요</button>
                <button id="btn2">네</button>
              </div>
            </div>
        </div>
        <!-- 사용중인 주차장의 정보 -->
        <div class="parkingContent">
            <div id="parkingMain" class="parkingMain">
                <span class="parking">주차 정보</span>
                <a href="#" id="parkingInfo"> > </a>
            </div>
            <div class="parkingInfoList">
                <ul id="parkingList">
                </ul>
            </div>
        </div>
        <!-- 권한 요청 관련 Snackbar -->
    <div class="snackbar" id="permissionSnackbar">
        <div class="snackbarheading">앗차 사용을 위해 권한이 필요해요</div>
            <div class="icon-container">
                <div class="icon">
                    <img src="location.svg" alt="">
                </div>
                <div class="content">
                    <div class="titlemini">위치</div>
                    <div class="subtext">주차 위치의 정보와 요금을 받아와요.</div>
                </div>
            </div>
            <div class="icon-container">
                <div class="icon">
                    <img src="camera2.svg" alt="">
                </div>
                <div class="content">
                    <div class="text">카메라</div>
                    <div class="subtext">주차 위치 사진을 찍어 기록해요.</div>
                </div>
            </div>
            <div class="icon-container">
                <div class="icon">
                    <img src="notice.svg" alt="">
                </div>
                <div class="content">
                    <div class="text">알림</div>
                    <div class="subtext">요금이 오르기 전 푸시알림을 줘요.</div>
                </div>
            </div>
            <button id="closeSnackbarBtn">확인
            </button>
        </div>
    </div>
    </div>
    <script type="module" src="script.js"></script>
    <script type="module" src="/modal/modal.js">
    </script>
    <script src="./constants.js" type="module"></script>
</body>
</html>
